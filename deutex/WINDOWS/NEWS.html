<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.0.4" />
<title>DeuTex release notes</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>DeuTex release notes</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_5_2_2_2020_12_30">5.2.2 (2020-12-30)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_build_systems">Build systems</h3>
<div class="ulist"><ul>
<li>
<p>
<code>configure.ac</code> is now compatible with autoconf 2.70.  C99 is
    assumed as a baseline default and should not be explicitly
    called for.
</p>
</li>
<li>
<p>
<code>./configure --enable-man</code> is now the only way an error occurs if
    AsciiDoc (<code>a2x</code>) is not installed.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_graphics">Graphics</h3>
<div class="ulist"><ul>
<li>
<p>
Hexen graphics are now treated a bit more specially, the last
    entry in the palette no longer counting as a candidate to produce
    transparency in the output file.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_2_1_2019_08_10">5.2.1 (2019-08-10)</h2>
<div class="sectionbody">
</div>
</div>
<div class="sect1">
<h2 id="_build_systems_2">Build systems</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<code>./configure</code> was broken in 5.2.0 for systems without AsciiDoc
    installed.  It now properly checks for a2x conditionally along
    with the possible <code>--disable-man</code> parameter.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_5_2_0_2019_06_23">5.2.0 (2019-06-23)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_graphics_2">Graphics</h3>
<div class="ulist"><ul>
<li>
<p>
DeuTex supports textures in TX_START and TX_END markers.  These
    are used by certain editors/engines for textures, with support for
    storing PNG and JPEG files directly in the WAD.  Extraction is
    likewise handled for all formats.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_build_systems_and_code_standards">Build systems and code standards</h3>
<div class="ulist"><ul>
<li>
<p>
Instances of <code>== true</code> and <code>!= false</code> were simplified to more
    idiomatic C, such as <code>if (cond)</code> and <code>if (!cond)</code>.
</p>
</li>
<li>
<p>
Manual page generation can be disabled, even if <code>a2x</code> is
    available, by using <code>./configure --disable-man</code>.  This feature may
    be useful for penguin distributions.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_1_2_2018_08_12">5.1.2 (2018-08-12)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general">General</h3>
<div class="ulist"><ul>
<li>
<p>
<code>--help</code> no longer causes a segfault (thanks andwj).
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_1_1_2018_01_08">5.1.1 (2018-01-08)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_2">General</h3>
<div class="ulist"><ul>
<li>
<p>
The texture name array was fixed so the maximum possible string
    size is now supported.
</p>
</li>
<li>
<p>
Some warnings and errors with old versions of pkg-config and gcc
    have been fixed.
</p>
</li>
<li>
<p>
Aliasing errors have been resolved, which caused crashes on some
    architectures, such as sparc64.
</p>
</li>
<li>
<p>
DeuTex can now build WADs with an arbitrary number of lumps, but
    prints a warning when more than 4046 are included (the Vanilla
    Doom limit).
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_1_0_2017_08_11">5.1.0 (2017-08-11)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_3">General</h3>
<div class="ulist"><ul>
<li>
<p>
The <code>-overwrite</code> option now works.
</p>
</li>
<li>
<p>
Levels are extracted/inserted in a way to preserve GL nodes.
</p>
</li>
<li>
<p>
Inserting pictures with a height of 1 pixel no longer causes a
    malloc error, and allows the operation of rebuilding a <em>Doom</em> 1 or
    2 IWAD.
</p>
</li>
<li>
<p>
texture lump file names can now be overridden.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_graphics_3">Graphics</h3>
<div class="ulist"><ul>
<li>
<p>
DeuTex supports reading and writing sprite offsets based on PNG
    <code>grAb</code> chunks in a manner compatible with SLADE and ZDoom.
    <code>wadinfo.txt</code> overrides these offsets unless <code>-pngoffsets</code> is
    used.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_0_0_2017_07_31">5.0.0 (2017-07-31)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_removed_features">Removed features</h3>
<div class="ulist"><ul>
<li>
<p>
DeuSF.
</p>
</li>
<li>
<p>
<code>-man</code> troff format generation.
</p>
</li>
<li>
<p>
WinTex options.
</p>
</li>
<li>
<p>
<code>-fullsnd</code>: now the only mode.
</p>
</li>
<li>
<p>
MS-DOS and OS/2 compatibility.
</p>
</li>
<li>
<p>
Incomplete (and conditioned out) Rise of the Triad support.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_file_format_support">File format support</h3>
<div class="ulist"><ul>
<li>
<p>
PNG support added, creating an optional dependency on libpng 1.6.
    If compiled in, it is the default extraction format, PPM
    otherwise.
</p>
</li>
<li>
<p>
Au and VOC sound formats removed.  WAV is the only supported
    format for extraction and creation.
</p>
</li>
<li>
<p>
Full sound lumps from the WAD are always extracted.
</p>
</li>
<li>
<p>
MIDI files can be included just by being named *.mid, and are
    extracted to the same file name extension.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_general_4">General</h3>
<div class="ulist"><ul>
<li>
<p>
Log file support has been removed, in favor of the user doing a
    shell redirection (eg, with <code>&gt;</code> or <code>2&gt;</code>) instead.
</p>
</li>
<li>
<p>
Arch-vile sprites are now extracted and inserted using literal
    names for sprites with the <code>[</code> and <code>]</code> characters in names
    (illegal file name characters on DOS, but not current Windows
    systems), and sprite names with <code>\</code> are now altered to use <code>^</code>
    on-disk, matching the ZDoom PK3 standard.
</p>
</li>
<li>
<p>
Graphics with a height &gt; 128 are now inserted into Doom WAD files
    correctly.
</p>
</li>
<li>
<p>
UDMF (Universal Doom Map Format) support.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_build_systems_code_standards">Build systems, code standards</h3>
<div class="ulist"><ul>
<li>
<p>
Real Autoconf+Automake build system to replace the
    barely-functioning imitation one.  <code>./configure</code>, <code>make</code>, and
    related environment variables work as should be expected.
</p>
</li>
<li>
<p>
MS-DOS and OS/2 batch files removed.
</p>
</li>
<li>
<p>
A <code>malloc.h</code> include was removed to allow compilation on Mac OS X,
    and is not needed by current Unix systems in general.
</p>
</li>
<li>
<p>
Thousands of lines of code deleted and the entire tree reformated
    (primarily by using <code>indent -kr</code>, followed up by manual
    touch-ups).  Several unused files, functions, and commented out
    code removed.
</p>
</li>
<li>
<p>
C99-style cleanups to use (<code>u</code>)<code>intN_t</code> types, <code>bool</code>, <code>true</code>,
    <code>false</code> throughout the code, replacing old defines.
</p>
</li>
<li>
<p>
AsciiDoc now used for documentation, and building the manpage
    requires it to be installed.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_4_902_2005_08_31">4.4.902 (2005-08-31)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_build">Build</h3>
<div class="ulist"><ul>
<li>
<p>
Vanilla <code>make</code> compatibility: removed all occurrences of <code>$&lt;</code> not in
    inference rules in the makefile.
</p>
</li>
<li>
<p>
Vanilla <code>make</code> compatibility: removed all <code>\</code> followed by empty
    lines.  On NCR MP-RAS, <code>make</code> quotes all empty lines that follow!
</p>
</li>
<li>
<p>
There is now a <code>./configure</code> script (GNU autoconf work-alike).<br />
   <br />
    Installing somewhere else than <code>/usr/local</code> is now done by giving
    <code>./configure</code> the <code>--prefix</code> option.<br />
   <br />
    <code>CC</code>, <code>CFLAGS</code> and <code>LDFLAGS</code> are now auto-detected.  The defaults
    can be overridden by passing <code>./configure</code> the <code>--cc</code>, <code>--cflags</code>
    and <code>--ldflags</code> options.<br />
   <br />
    The fixed-size types (<code>Int16</code> etc.) are now correctly set on all
    LP64 platforms, not just Alpha.
</p>
</li>
<li>
<p>
The OPTIONS section is now updated automatically.  This impacts
    no-one but hackers.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_code">Code</h3>
<div class="ulist"><ul>
<li>
<p>
two <code>char[8]</code> were used as <code>char[9]</code> (caught by NCR/MetaWare <code>cc</code> on
    NCR MP-RAS).
</p>
</li>
<li>
<p>
C89 compatibility: removed a few <code>//</code> comments that had slipped into
    the source.
</p>
</li>
<li>
<p>
A few functions were declared as <code>static</code> but defined as <code>extern</code>
    (caught by NCR/MetaWare <code>cc</code> on NCR MP-RAS).
</p>
</li>
<li>
<p>
<code>static</code>- and <code>const</code>-correctness fixes.
</p>
</li>
<li>
<p>
Removed the little-used <code>Legal()</code> function.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_doc">Doc</h3>
<div class="ulist"><ul>
<li>
<p>
Man page: in DESCRIPTION, added a short list of examples to help new
    users getting started.  Added a FILES section.  Made the SEE ALSO
    section a bit more specific.
</p>
</li>
<li>
<p>
In <code>--help</code> and the man page, divided the options into groups and
    sorted them alphabetically within each group.  It seems to be
    clearer that way.
</p>
</li>
<li>
<p>
Added a FAQ.
</p>
</li>
<li>
<p>
Obfuscated all email addresses (<code>tr .@ +=</code>).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_em_strife_em"><em>Strife</em></h3>
<div class="paragraph"><p>The <code>SCRIPTnn</code> lumps are now extracted in human-readable form into the
<code>scripts/</code> directory.  The reverse operation is not implemented.  Since
we understand the Strife script format only partially, the output format
is still in flux.  New option <code>-scripts</code> to extract only the scripts.
The reverse engineering was done in collaboration with
Matthew W. Miller.</p></div>
</div>
<div class="sect2">
<h3 id="_graphics_4">Graphics</h3>
<div class="ulist"><ul>
<li>
<p>
It’s now possible to build wads that use a custom <code>PLAYPAL</code>.
    Previously, DeuTex always used the PLAYPAL from the iwad when
    building. It now uses the one in <code>lumps/</code> if it exists.  Thanks to
    Ras2 for reporting the problem.
</p>
</li>
<li>
<p>
Rewrote <code>COLdiff()</code> as a macro.  On my system, the time to build a
    wad made of a single 1M-pixel patch is down from 1.32s to 0.85s (35%
    faster), which is not surprising since DeuTex used to spend about
    40% of its time in <code>COLdiff()</code>.  The time to rebuild the <em>Strife</em>
    iwad is down from 8.6s to 7.2s (16% faster).
</p>
</li>
<li>
<p>
Removed the “quantisation is slow” warnings that DeuTex used to spew
    when composing from PPMs and 24-bit BMPs.  Those warnings were
    relevant to an old quantisation algorithm that has not been used
    since at least version 3.8 (<code>#ifdef QUANTSLOW</code>).
</p>
</li>
<li>
<p>
Lifted the arbitrary limit of 256 patches per texture.  DeuTex will
    now accept as many patches as the wad format allows (32,767).  If a
    texture definition has more than that many patches, DeuTex will
    discard the excess patches with a warning, instead of dying with a
    cryptic message like <code>Line n: Illegal char '*'</code>.
</p>
</li>
<li>
<p>
Lifted the arbitrary limit of 4096 on patch width.  DeuTex now
    handles patches as wide as the wad format allows (32,767).
</p>
</li>
<li>
<p>
Textures wider than 4096 are now accepted with a warning.  PrBoom
    2.2.3 is known to take textures as wide as 16,384 pixels.  8192×128
    textures make XDoom 20001001 crash in <code>Z_Malloc</code>.  1024×128 textures
    make Doom freeze in <code>R_Init</code>.  The maximum acceptable widths might
    be higher if the height of the texture is lesser than 128 but I
    haven’t looked into it.  Thanks to David Damerell for testing.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_misc">Misc</h3>
<div class="ulist"><ul>
<li>
<p>
Removed the annoying startup banner.
</p>
</li>
<li>
<p>
If no command is given, emit a meaningful error message instead of
    suggesting to switch to WinTex.  And exit with code 1 instead
    of 255.
</p>
</li>
<li>
<p>
All messages now look like this:<br />
   <br />
        <em>c code string</em><br />
   <br />
    <em>c</em> is the class of the message: <strong>i</strong> for information, <strong>w</strong> for
    warning, <strong>E</strong> for error, <strong>B</strong> for bug.<br />
   <br />
    <em>code</em> is a unique 4-character alphanumeric code which unambiguously
    identifies the message.<br />
   <br />
    Some of the messages have been rewritten to be more informative
    (mention the filename, the nature of the error, etc.).
</p>
</li>
<li>
<p>
At the request of Kim “Sparky” Parrott, all messages are now copied
    to a file named <code>deutex.log</code> (<code>deusf.log</code> for DeuSF).  The default
    log file name can be overridden through the <code>-log</code> option.  If you
    don’t want a log file, try <code>-log /dev/null</code> (Unix) or <code>-log nul</code>
    (DOS).<br />
   <br />
    The log is only written if a command that works with wads is
    given. <code>--help</code>, <code>--version</code> etc. do not create a log.
</p>
</li>
<li>
<p>
Removed the 30 command-line arguments limit.
</p>
</li>
<li>
<p>
Made exit status a little bit more normal (2 for errors and 3 for
    bugs instead of -5 and -10).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_sound">Sound</h3>
<div class="ulist"><ul>
<li>
<p>
New option <code>-rate</code> to specify what DeuTex should do when including
    sound files whose sample rate is not exactly 11025 Hz.  The choices
    are:<br />
   <br />
    <code>reject</code>: consider it a fatal error and exit immediately with a
    non-zero exit code.<br />
    <code>force</code>: emit a warning and force it to 11025 Hz by resampling up or
    down.<br />
    <code>warn</code>: emit a warning but include it as is anyway.<br />
    <code>accept</code>: silently include it as is.<br />
   <br />
    Previously, the default (and only option) used to be <code>force</code>.  It’s
    now <code>warn</code>.<br />
   <br />
    Thanks to Matthew W. Miller for telling me about this issue (which
    he did in 1999; the six-year delay is mine, all mine).
</p>
</li>
<li>
<p>
Write errors while extracting PC speaker sounds are now actually
    detected and reported.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_4_0_2000_01_05">4.4.0 (2000-01-05)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_game">Game</h3>
<div class="ulist"><ul>
<li>
<p>
<em>Hexen</em>: musics are now identified and extracted properly.<br />
    <br />
    The old music identification code assumed that any lump whose name
    does not begin with either <code>D_</code> or <code>MUS_</code> can’t be a music.  It
    worked for <em>Doom</em>, <em>Heretic</em> and <em>Strife</em> but, for <em>Hexen</em>, it
    caused all musics to be seen as plain lumps and extracted
    accordingly into the <code>lumps/</code> directory.  DeuTex even tried to
    interprete <code>STALKR</code> and <code>WINNOWR</code> as pictures and said silly things
    about them having a “width greater than 4096”.<br />
    <br />
    The new code really checks whether the lump begins with <code>MUS\x1a</code>
    instead of just looking at its name.  A lump is now deemed to be a
    music if and only if it begins with <code>MUS\x1a</code>.<br />
    <br />
    As a side-effect, certain operations (appending sprites and flats
    and merging) must have become slower.  Furthermore, since these used
    to blindly assume that any lump whose name begins with either <code>D_</code>
    or <code>MUS_</code> is a music, their semantics might have changed.  If you
    find they don’t do what you want, try again using the <code>-musid</code>
    option and let me know whether it improves your condition.
</p>
</li>
<li>
<p>
<em>Hexen</em>, <em>Doom</em> alpha 0.4/0.5: levels are now properly extracted and
    included.<br />
    <br />
    There have been changes in the undocumented details of DeuTex’s
    behaviour with respect to levels.  The one that is most likely to be
    noticed is that, when including a level, DeuTex now copies the
    entire contents of the <code>levels/</code> pwad, starting from the level
    label.  Previously, it included at most the 11 following lumps, and
    only if they had the expected names (<code>THINGS</code>, <code>VERTEXES</code> and so
    on).<br />
    <br />
    But, basically, if the <code>levels/</code> pwads contain, as they should, all
    the needed lumps and nothing else, there shouldn’t be any trouble.
</p>
</li>
<li>
<p>
<em>Heretic</em> and <em>Hexen</em>: does not abort anymore with <code>Bug: *** idinx
    (12) ***</code> when trying to include the graphic lumps (resp. <code>CREDIT</code>,
    <code>E2END</code>, <code>FINAL1</code>, <code>FINAL2</code>, <code>HELP1</code>, <code>HELP2</code>, <code>TITLE</code> and <code>CREDIT</code>,
    <code>FINALE1</code>, <code>FINALE2</code>, <code>FINALE3</code>, <code>HELP1</code>, <code>HELP2</code>, <code>INTERPIC</code>,
    <code>TITLE</code>).  More generally, DeuTex now accepts to compose wads even
    when there are graphic files in <code>lumps/</code>.
</p>
</li>
<li>
<p>
<em>Hexen</em>: does not abort anymore with <code>Height of
    FLAT ./flats/x_001.ppm is not 64 or 65</code> when trying to include flats
    <code>X_001</code> through <code>X_011</code>.  In addition, DeuTex now just emits a
    warning instead of aborting for other oddball heights (i.e. not 64,
    65 or 128).  Have fun. ;-) This is true for all iwads, not only
    <em>Hexen</em>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_graphics_5">Graphics</h3>
<div class="paragraph"><p>The annoying “quantisation is slow” warnings now appear at most once.</p></div>
</div>
<div class="sect2">
<h3 id="_misc_2">Misc</h3>
<div class="ulist"><ul>
<li>
<p>
To disambiguate the <code>&lt;count&gt; warnings omitted</code> message, added
    optional scope prefix and changed the picture extraction function to
    use it.
</p>
</li>
<li>
<p>
Got rid of the “don’t bother Olivier” banner. People must have got
    the message by now.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_3_0_1999_12_24">4.3.0 (1999-12-24)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_graphics_6">Graphics</h3>
<div class="paragraph"><p>Fixed ancient bug where DeuTex sometimes failed to include custom
patches if they were not explicitly listed in the <code>[patches]</code> section.
If the first patch used in <code>texture1.txt</code> was a custom patch, it had to
be listed in <code>[patches]</code> or DeuTex would forget to include it.  This is
the same bug Olivier mentioned in the home page:</p></div>
<div class="quoteblock">
<div class="content">The support for wall patches in DeuTex has been modified.  You must now
explicitely declare all your patches in a [PATCHE] section.<br />
<br />
If you don’t do this, DeuTex will attempt to work as usual, but there
seems to ba a bug in this part of the code, so sometime some needed
patches are not loaded.</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p>After some summary testing, looks like it’s fixed.</p></div>
</div>
<div class="sect2">
<h3 id="_misc_3">Misc</h3>
<div class="ulist"><ul>
<li>
<p>
More error handling improvements.
</p>
</li>
<li>
<p>
Bumped version number and cleaned things up for public release.
</p>
</li>
<li>
<p>
Decreased maximum number of warnings per picture from 10 to 5.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_platform">Platform</h3>
<div class="paragraph"><p>Fixed <code>ftruncate()</code> being undeclared when compiling with DJGPP and
updated the building-on-DOS section of the doc.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_2_2_1999_11_20">4.2.2 (1999-11-20)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_misc_4">Misc</h3>
<div class="paragraph"><p>Made certain failure messages more informative.</p></div>
</div>
<div class="sect2">
<h3 id="_platform_2">Platform</h3>
<div class="paragraph"><p>Fixed several bugs that showed in the DOS precompiled executables for
4.1.0 and 4.2.0 (most common symptom: DeuTex aborting with a <code>Can't read
WAD</code> error message).</p></div>
<div class="paragraph"><p>Lengthy technical explanation: in 4.1.0, I removed the <code>huge</code> pointer
qualifiers that were scattered throughout the source not unlike nitrates
in groundwater.  The reasoning was that, since DeuTex is always compiled
in the <code>huge</code> memory model anyway, those qualifiers were redundant.  As
I found out at the end of a long and painful debugging session, they
weren’t.</p></div>
<div class="paragraph"><p>Had I read the doc of the compiler, I would have known that, even when
in the huge memory model, pointers are <code>far</code> by default, not <code>huge</code>.
Far pointers wrap around at 64 kB; this is not what you want when you’re
trying to work with lumps larger than that.  And, apparently, there is
no way to specify that pointers should be huge by default.</p></div>
<div class="paragraph"><p>On top of that, there was a genuine bug in <code>WADRreadBytes2()</code> that would
have prevented the DOS port from working, even if all pointers had been
huge.  But this one was fixed in 4.2.1.</p></div>
<div class="paragraph"><p>I switched to DJGPP, with which you can get working executables without
having to contaminate your code with carcinogenic keywords.  The bad
news: firstly, the executables are somewhat larger.  Secondly, since
DJGPP executables use protected mode, they tend to be more fussy.</p></div>
<div class="paragraph"><p>Thanks to Kim Parrott for reporting the bug and alpha testing my fixes.</p></div>
<div class="paragraph"><p>All the above applies only to the DOS precompiled executables. Other
platforms did not have these problems.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_2_1_1999_11_16">4.2.1 (1999-11-16)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_command_line">Command line</h3>
<div class="paragraph"><p>Fixed segfault on <code>deutex --vers</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_graphics_7">Graphics</h3>
<div class="paragraph"><p>New option <code>-usedidx</code>.  When called with this option, DeuTex scans all
the graphics in the wad and prints statistics about which palette
indices they use.  (By “graphics” is meant “any data that is converted
into an RGB triplet by looking up <code>PLAYPAL</code> or <code>TITLEPAL</code> ”.  That
includes flats, graphics, patches, sneaps, sneats and sprites.)  I’ve
added this command for my own use, to help my decide which index should
be used to store the transparent colour for <em>Hexen</em>.</p></div>
</div>
<div class="sect2">
<h3 id="_misc_5">Misc</h3>
<div class="ulist"><ul>
<li>
<p>
Made certain failure messages more informative.
</p>
</li>
<li>
<p>
Made printing of lump names garbage-proof.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_platform_3">Platform</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a huge DOS bug that made DeuTex fail with <code>Can't read WAD</code>
    error whenever it had to read more than 65535 bytes from a wad at
    once.
</p>
</li>
<li>
<p>
Flushing <code>stdout</code> before writing to <code>stderr</code> so that messages come
    out in the right order when both outputs are redirected.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_sound_2">Sound</h3>
<div class="paragraph"><p>All conditions that used to be fatal errors when extracting sound lumps
now just elicit a warning message, indicating which lump it was and what
action was taken.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_2_0_1999_11_14">4.2.0 (1999-11-14)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_doc_2">Doc</h3>
<div class="paragraph"><p>Fixed error in documentation of <code>-pkgfx</code>, <code>-pknormal</code> and <code>-usedtex</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_em_strife_em_2"><em>Strife</em></h3>
<div class="paragraph"><p>Fixed DeuTex aborting when extracting textures for versions of <em>Strife</em>
≥ 1.1.  The problem was that <em>Strife</em> 1.1 and above use a different
format for the <code>TEXTURE1</code> and <code>TEXTURE2</code> lumps (<em>Strife</em> 1.0 uses the
same format as <em>Doom</em>).  New options <code>-tf strife11</code>, <code>-itf strife11</code> and
<code>-otf strife11</code> to support that format.  Option <code>-strife</code> has been
changed to imply <code>-tf strife11</code>.  New option <code>-strife10</code> that is
identical to <code>-strife</code> except that it does not imply <code>-tf strife11</code>.
Summary:</p></div>
<div class="ulist"><ul>
<li>
<p>
If you have the Strife 1.0 iwad, use <code>-strife10</code> (or <code>-tf normal</code>).
</p>
</li>
<li>
<p>
If you have Strife 1.1 or above, use <code>-strife</code> (or <code>-tf strife11</code>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>Thanks to Kim Parrott for reporting the bug and Len Pitre for pointing
me in the right direction.</p></div>
</div>
<div class="sect2">
<h3 id="_sound_3">Sound</h3>
<div class="paragraph"><p>Fixed two bugs in reading Sun audio (<code>.au</code>) files.  Fixes error <code>WAV:
can't read data of./sounds/foo.au</code> [sic] when trying to build a wad.
One of these bugs prevented from reading Sun audio files on
little-endian machines.  It had been there for a long time; v3.8 has it
and the v3.6 binary behaves like it had it too.  I doubt that anyone had
ever been able to use <code>.au</code> files on little-endian machines before.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_1_0_1999_11_01">4.1.0 (1999-11-01)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_command_line_2">Command line</h3>
<div class="paragraph"><p>New options <code>-sneas</code>, <code>-sneaps</code> and <code>-sneats</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_code_2">Code</h3>
<div class="ulist"><ul>
<li>
<p>
Replaced certain occurrences of <code>Int32</code> by <code>iolen_t</code>.
</p>
</li>
<li>
<p>
Replaced certain occurrences of <code>256</code> by <code>NCOLOURS</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_em_doom_em_alpha_0_4"><em>Doom</em> alpha 0.4</h3>
<div class="paragraph"><p><code>AMENA0</code> and <code>MSKUL*</code> are now correctly recognized as graphics and not
as lumps anymore.  The 21 graphic lumps that ended up in <code>lumps/</code> are
now properly extracted (into <code>sneaps/</code> and <code>sneats/</code>).  (The first item
involved propagating to <code>IDENTgraphic()</code> the changes made to
<code>PICtoRAW()</code> in v. 4.0.2.  The second item needed heavy hacking,
creating a new image type (christened “snea”) and managing an alternate
palette for <code>TITLEPAL</code>.)  Still extracted as lumps: <code>GNUM[0-9]</code> and
<code>HUFONT</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_em_doom_em_alpha_0_5"><em>Doom</em> alpha 0.5</h3>
<div class="paragraph"><p>The 86 graphic lumps that ended up in <code>lumps/</code> are now properly
extracted (into <code>sneaps/</code> and <code>sneats/</code>).  Still extracted as lump:
<code>HUFONT</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_graphics_8">Graphics</h3>
<div class="paragraph"><p>Errors that used to cause DeuTex to give up on extracting a picture now
just make it skip the rest of the column.  It also prints detailed
messages about what it didn’t like and in which picture it occurred
instead of bailing out silently.</p></div>
</div>
<div class="sect2">
<h3 id="_misc_6">Misc</h3>
<div class="ulist"><ul>
<li>
<p>
New option <code>-di</code> to debug entry identification.  Useful mainly to
    hackers.
</p>
</li>
<li>
<p>
Cosmetic changes in the generated <code>wadinfo.txt</code> and in the phase
    messages.
</p>
</li>
<li>
<p>
No more messages <code>Creating PWAD</code> and <code>WAD is complete...</code> during
    level extraction.
</p>
</li>
<li>
<p>
Set a limit of 10 warnings per picture, to prevent invalid pictures
    from uselessly flooding the output.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_0_3_1999_10_02">4.0.3 (1999-10-02)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_command_line_3">Command line</h3>
<div class="paragraph"><p>New option <code>-doom2</code> as suggested by Matthew Miller.</p></div>
</div>
<div class="sect2">
<h3 id="_graphics_9">Graphics</h3>
<div class="paragraph"><p>Now accepts to extract pictures as large as 4096×4096 (previously the
limit was 320×200).  This fixes <code>Failed to write sprite</code> errors when
trying to extract <code>PSYBA0</code> and <code>PSYBB0</code> from <code>strain.wad</code>.  Thanks to
Matthew miller for reporting the bug.</p></div>
</div>
<div class="sect2">
<h3 id="_misc_7">Misc</h3>
<div class="paragraph"><p>Added a useful URL to the GIF warning.</p></div>
</div>
<div class="sect2">
<h3 id="_platform_4">Platform</h3>
<div class="paragraph"><p>Now builds without errors on FAT filesystems (replaced <code>.deutex</code> and
<code>.deusf</code> by <code>tmp/_deutex</code> and <code>tmp/_deusf</code>).</p></div>
</div>
<div class="sect2">
<h3 id="_sound_4">Sound</h3>
<div class="paragraph"><p>Fixed a bug that caused DeuTex to extract sounds with unlikely sample
rates like 4 GHz whenever the sample rate in the lump was higher than
32767 Hz (for example <code>DSVILACT</code> and <code>DSVILSIT</code> from <code>ncc1701.wad</code>, with
a sample rate of 44.1 kHz).  Thanks to Matthew Miller for reporting
the bug.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_0_2_1999_09_19">4.0.2 (1999-09-19)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_command_line_4">Command line</h3>
<div class="paragraph"><p>New options</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>-doom02</code> (implies <code>-ipf alpha</code>, <code>-itf none</code>, and <code>-itl none</code>)
</p>
</li>
<li>
<p>
<code>-doom04</code> (implies <code>-ipf alpha</code>, <code>-itf nameless</code>, and <code>-itl textures</code>)
</p>
</li>
<li>
<p>
<code>-doom05</code> (implies <code>-ipf alpha</code> and <code>-itl textures</code>)
</p>
</li>
<li>
<p>
<code>-doompr</code> (implies <code>ipf pr</code>)
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_code_3">Code</h3>
<div class="paragraph"><p>Replaced certain unjustified uses of <code>Int32</code> by <code>long</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_doc_3">Doc</h3>
<div class="paragraph"><p>Removed <code>old/readme.txt</code>.  It’s so out of date that it’s more confusing
than useful.</p></div>
</div>
<div class="sect2">
<h3 id="_game_2">Game</h3>
<div class="paragraph"><p><em>Doom</em> alpha and <em>Doom</em> PR: it’s now possible to extract graphics, patches,
sprites, and textures from those iwads.  Three new options:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>-ipf {normal|pr|alpha}</code>
</dt>
<dd>
<p>
    Use <code>alpha</code> for <em>Doom</em> alpha 0.2, 0.4, and 0.5.<br />
    Use <code>pr</code> for <em>Doom</em> PR (press release and beta).<br />
    Use <code>normal</code> for everything else.
</p>
</dd>
<dt class="hdlist1">
<code>-itf {normal|nameless|none}</code>
</dt>
<dd>
<p>
    Use <code>none</code> for <em>Doom</em> alpha 0.2.<br />
    Use <code>nameless</code> for <em>Doom</em> alpha 0.4.<br />
    Use <code>normal</code> for everything else, including <em>Doom</em> alpha 0.5.
</p>
</dd>
<dt class="hdlist1">
<code>-itl {normal|textures|none}</code>
</dt>
<dd>
<p>
    Use <code>none</code> for <em>Doom</em> alpha 0.2.<br />
    Use <code>textures</code> for <em>Doom</em> alpha 0.4 and 0.5.<br />
    Use <code>normal</code> for everything else, including <em>Doom</em> alpha 0.5.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>You shouldn’t ever have to use those options directly.  It’s better to
just use <code>-doom02</code>, <code>-doom04</code>, <code>-doom05</code>, and <code>-doompr</code>, which take care
of setting ipf, itf, and itl properly for you.</p></div>
<div class="paragraph"><p>Note that extracting levels and some other lumps from the <em>Doom</em> alpha
iwads does not work yet.</p></div>
</div>
<div class="sect2">
<h3 id="_platform_5">Platform</h3>
<div class="paragraph"><p>New target in the makefile to generate a binary DOS distribution with
the executables and the user documentation in DOS format, with DOS-ish
names.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_0_1_1999_09_10">4.0.1 (1999-09-10)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_command_line_5">Command line</h3>
<div class="paragraph"><p>Reworked the command line arguments parsing, with the following
consequences.</p></div>
<div class="ulist"><ul>
<li>
<p>
Options can now be abbreviated freely, as long as the abbreviation
    is not ambiguous.  For example, you can use <code>-heretic</code>, <code>-hereti</code>,
    <code>-heret</code>, <code>-here</code> or <code>-her</code> but not <code>-he</code> because that could also be
    the abbreviation for <code>-help</code> (or <code>-hexen</code>, for that matter). On the
    other hand, <code>-h</code> is allowed because it’s not an abbreviation
    (there’s really a <code>-h</code> option).
</p>
</li>
<li>
<p>
<code>-heretic</code> and <code>-hexen</code> now work (they were “hidden” by <code>-h[elp]</code>).
</p>
</li>
<li>
<p>
<code>-v@</code> has been split in <code>-v0</code>, <code>-v1</code> &#8230; <code>-v5</code> because the new code
    does not allow excess characters after an option.  <code>-vstring</code> where
    string is anything else than <code>0</code> through <code>5</code> now triggers an error
    (it used to be accepted silently).  I hope no one relied on the old
    undocumented behaviour.
</p>
</li>
<li>
<p>
Certain silly command line arguments that would have worked before
    would now trigger an error.  For example, it used to be possible to
    type <code>-extramarital</code> or <code>-extermination</code> for <code>-extract</code> but not
    anymore. The old code defined relatively short options (-ext) and
    accepted command line arguments as long as the defined option was an
    initial substring of the command line argument. The new code does
    the reverse; it defines relatively long options (<code>-extract</code>) and
    accepts command line argument as long as they’re an initial
    substring of the defined option.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_code_4">Code</h3>
<div class="ulist"><ul>
<li>
<p>
Replaced direct testing of <code>__MSDOS__</code>, <code>__OS2__</code>, <code>__GNUC__</code>,
    <code>__BORLANDC__</code> by <code>DT_CC</code> and <code>DT_OS</code>.  This is hopefully going to
    make Udo’s job a bit easier.
</p>
</li>
<li>
<p>
Now uses the same <code>fopen()</code> modes for all platforms: <code>{rw}b</code> for
    binary mode and <code>{rw}</code> for text mode, as per the ANSI/ISO C
    standard.  This will fix the problem Udo Munk reported with the
    Cygwin build opening binary files in text mode and thus failing
    miserably.  Note that certain DOS C compilers can be confused so
    that <code>{rw}</code> opens files in <em>binary</em> mode.  Don’t do that!  If you
    have problems with text files on DOS, make sure your C compiler is
    configured so that <code>{rw}</code> opens files in <em>text</em> mode.
</p>
</li>
<li>
<p>
Added to the distribution archive <code>gifcodec.c</code> that I had forgotten
    to include (it’s not used anyway).
</p>
</li>
<li>
<p>
Added to the distribution archive
    <code>src/{deusf,deusfos,deutex,deutexos}.def</code> that I had forgotten to
    include.  I guess that’s Windows/OS/2-only stuff.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_doc_4">Doc</h3>
<div class="ulist"><ul>
<li>
<p>
Updated <code>making.txt</code> and renamed it as <code>INSTALL</code> for homogeneity.
    Removed obsolete reference to <code>alpha.sh</code> and the file itself.
</p>
</li>
<li>
<p>
Made more legal updates.
</p>
</li>
<li>
<p>
Documented <code>DOOMWADDIR</code> in the man page.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_misc_8">Misc</h3>
<div class="ulist"><ul>
<li>
<p>
Changed the default graphics format for Unix from GIF to PPM, so
    that fewer user sites are broken if and when GIF support is removed.
    For the same reason, added a warning message when <code>-gif</code> is used or
    the first time an image is read from a GIF file.
</p>
</li>
<li>
<p>
Changed the lookup order for images to PPM, BMP, GIF (was BMP, GIF,
    PPM).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_platform_6">Platform</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a couple of things that didn’t work on 16-bit platforms
    (real-mode DOS).
</p>
</li>
<li>
<p>
Now compiles on DOS with Borland C++ 4.0.
</p>
</li>
<li>
<p>
Now compiles on DOS with MSC 6.0. The MSC 6.0 build is functional
    but limited because it can’t allocate blocks larger than 64 kB,
    which is insufficient for certain images.  I can’t use <code>halloc()</code>
    instead of <code>malloc()</code> because it does not supporting resizing
    (i.e. there’s no <code>hrealloc()</code> function).
</p>
</li>
<li>
<p>
In response to Udo’s remarks, DJGPP and Cygwin are now properly
    identified (<code>__DJGPP__</code> and <code>__CYGWIN__</code>).
</p>
</li>
<li>
<p>
Added sanity checks on specified-size types Int32 and friends.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_0_0a3_1999_09_05">4.0.0a3 (1999-09-05)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_5">Code</h3>
<div class="ulist"><ul>
<li>
<p>
Removed incongruous <code>#define</code>-ing of <code>O_BINARY</code> and <code>SEEK_SET</code>.
</p>
</li>
<li>
<p>
After Udo Munk’s report, fixed warnings in
</p>
<div class="ulist"><ul>
<li>
<p>
<code>src/color.c(74)</code>
</p>
</li>
<li>
<p>
<code>src/ident.c(583)</code>
</p>
</li>
<li>
<p>
<code>src/ident.c(658)</code>
</p>
</li>
<li>
<p>
<code>src/mkwad.c(78)</code>
</p>
</li>
<li>
<p>
<code>src/mkwad.c(79)</code>
</p>
</li>
<li>
<p>
<code>src/mkwad.c(80)</code>
</p>
</li>
<li>
<p>
<code>src/mkwad.c(81)</code>
</p>
</li>
<li>
<p>
<code>src/picture.c(903)</code>
</p>
</li>
<li>
<p>
<code>src/picture.c(912)</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_legal">Legal</h3>
<div class="paragraph"><p>As agreed to by Olivier Montanuy, DeuTex is now entirely GPL’d.  Well,
<em>almost</em> entirely, since it includes code written by different authors
in <code>lzw.c</code> and elsewhere.  Changed the notices in the source files and
added new file <code>LICENSE</code> to clarify things.</p></div>
</div>
<div class="sect2">
<h3 id="_makefile">Makefile</h3>
<div class="ulist"><ul>
<li>
<p>
Should now work with all C compilers (removed <code>-Wall</code> from
    <code>CFLAGS</code>).
</p>
</li>
<li>
<p>
<code>clean</code> now removes the DOS executables if they exist.
</p>
</li>
<li>
<p>
Does not compile with debug information in by default anymore.
</p>
</li>
<li>
<p>
New targets <code>dall</code>, <code>ddt</code>, <code>dds</code>, <code>ddeutex</code> and <code>ddeusf</code> for
    compiling with debug information and all warnings.
</p>
</li>
<li>
<p>
New target <code>help</code>.
</p>
</li>
<li>
<p>
New target <code>distdos</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_platform_7">Platform</h3>
<div class="ulist"><ul>
<li>
<p>
Replaced <code>unlink()</code> by <code>remove()</code> for portability.  Thanks to Udo
    for reporting this.
</p>
</li>
<li>
<p>
On 8.3 filesystems, <code>make</code> should not choke on <code>docsrc/changes.html</code>
    anymore.  Thanks to Udo for reporting this.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_sound_5">Sound</h3>
<div class="paragraph"><p>Corrected some misleading endianness comments in <code>sound.c</code>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_0_0a2_1999_08_14">4.0.0a2 (1999-08-14)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_game_3">Game</h3>
<div class="ulist"><ul>
<li>
<p>
Easier to use with <em>Strife</em> (now looks for <code>strife1.wad</code>, new option
    <code>-strife</code> ).
</p>
</li>
<li>
<p>
Easier to use with <em>Hexen</em> (new option <code>-hexen</code>).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_command_line_6">Command line</h3>
<div class="ulist"><ul>
<li>
<p>
New options <code>-hexen</code> and <code>-strife</code>.
</p>
</li>
<li>
<p>
New option <code>--version</code> (prints version number and returns 0).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_doc_5">Doc</h3>
<div class="paragraph"><p>Various changes in the man page, in the output of <code>-help</code> and <code>-man</code> and
elsewhere.</p></div>
</div>
<div class="sect2">
<h3 id="_makefile_2">Makefile</h3>
<div class="paragraph"><p>Various improvements.</p></div>
</div>
<div class="sect2">
<h3 id="_distribution">Distribution</h3>
<div class="paragraph"><p>Set modes straight.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_0_0a1_1999_08_12">4.0.0a1 (1999-08-12)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_5">General</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed many segfaults that were caused by attempts to <code>fclose
    (NULL)</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_wad">Wad</h3>
<div class="ulist"><ul>
<li>
<p>
New options <code>-be</code>, <code>-le</code>, <code>-ibe</code>, <code>-ile</code>, <code>-obe</code>, and <code>-ole</code> to
    control the endianness of the wads. <strong>Caution</strong>: don’t use them if
    you don’t know what you’re doing!  As far as I know, wads are
    always little-endian regardless of the architecture of the host.
    Therefore, I see no reason for someone in his/her right mind to
    create a big-endian wad.  Those options are here more for the sake
    of completeness than anything else.
</p>
</li>
<li>
<p>
Made <code>%</code> legal in names, to deal with <em>Strife</em>’s <code>INVFONG%</code> and
    <code>INVFONY%</code>.
</p>
</li>
<li>
<p>
<em>(Also graphics)</em> End-of-flats marker is now <code>F_END</code> by default
    instead of <code>FF_END</code>.  The reason for this change is that, with
    <code>F_END</code>, you don’t need DeuSF to get <em>Doom</em> to see your new flats.
    Should you need to, it’s still possible to get <code>FF_END</code> by using
    <code>-fend</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_graphics_10">Graphics</h3>
<div class="ulist"><ul>
<li>
<p>
The default transparent colour is now a dark blue-green
    (rgb:00/2f/2f).  It used to be cyan (rgb:00/ff/ff) which was
    blindingly bright, especially compared to the usually dark colours
    used in <em>Doom</em> textures.  It’s no fun to tweak shades of dark brown
    on a cyan background.<br />
   <br />
    To reuse images done with/for a previous version of DeuTex, you
    need to either invoke DeuTex with <code>-rgb 0 255 255</code> or convert your
    images by replacing all occurrences of colour (0, 255, 255) by
    colour (0, 47, 47).  To preserve compatibility with WinTex, I
    didn’t change the default transparent colour in WinTex mode; it’s
    still (0, 255, 255).
</p>
</li>
<li>
<p>
Fixed segfaults due to bug in conversion of bitmap images to <em>Doom</em>
    pictures.  Occured in certain 2-pixel high images such as <code>STBFN045</code>
    in the <em>Strife</em> iwad.
</p>
</li>
<li>
<p>
Now supports pictures and textures up to 509 high (was limited to
    128).
</p>
</li>
<li>
<p>
Now supports pictures and textures up to 1024 wide (was limited to
    512).
</p>
</li>
<li>
<p>
New option <code>-pf</code> to deal with the different picture format in the
    <em>Doom</em> alpha iwad (the underlying functionality is not implemented
    yet!)
</p>
</li>
<li>
<p>
Graphics: using <code>-ppm</code> does not cause anymore DeuTex to abort with
    <code>Bug: *** psvit ***</code>.
</p>
</li>
<li>
<p>
Graphics: fixed <code>-ppm</code> message.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_sound_6">Sound</h3>
<div class="ulist"><ul>
<li>
<p>
A bug that must have prevented reading <code>.wav</code> files on big endian
    machines has been squashed.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_command_line_7">Command line</h3>
<div class="ulist"><ul>
<li>
<p>
Options can’t start with a slash (<code>/</code>) anymore. I don’t think
    anyone used it and was a silly feature for a Unix program.
</p>
</li>
<li>
<p>
Not case insensitive anymore.
</p>
</li>
<li>
<p>
Changed the wording of error messages to use “option” instead of
    “command”.
</p>
</li>
<li>
<p>
Added options <code>-?</code> and <code>--help</code> as synonyms for <code>-help</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_doc_6">Doc</h3>
<div class="ulist"><ul>
<li>
<p>
New option <code>-man</code> to print help in <code>troff -man</code> source format for
    inclusion in the man page.
</p>
</li>
<li>
<p>
The version number is now a free-form string.
</p>
</li>
<li>
<p>
Made on-line help more compact.
</p>
</li>
<li>
<p>
Updated <code>making.txt</code>.
</p>
</li>
<li>
<p>
Made a proper <code>README</code> file.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_makefile_3">Makefile</h3>
<div class="ulist"><ul>
<li>
<p>
Renamed <code>unix</code> target as <code>strip</code>.
</p>
</li>
<li>
<p>
New target <code>install</code>.
</p>
</li>
<li>
<p>
New target <code>dist</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_platform_8">Platform</h3>
<div class="paragraph"><p>Reworked the handling of endianness.  DeuTex used to deal with that
through a set of macros that swapped bytes whenever the required
endianness was not the same as the native endianness.  To known the
native endianness, DeuTex relied on a macro defined via <code>-D</code>.</p></div>
<div class="paragraph"><p>There were two problems with this scheme.  Firstly, Olivier got the
meaning of “little endian” and “big endian” backwards and defining
<code>LITTLE_ENDIAN</code> in fact caused DeuTex to believe it was being compiled
for a big endian machine.  As the glibc headers happen to define
<code>LITTLE_ENDIAN</code> if the machine is little endian, compiling DeuTex on a
glibc little endian Linux system was impossible unless you made changes
to the source.</p></div>
<div class="paragraph"><p>The other, more fundamental, objection against the old approach is that,
as it needed the user to tell it about the native endianness by
modifying the makefile, it prevented unattended builds and made things
difficult for naive users.</p></div>
<div class="paragraph"><p>The new method eliminates this problem by using a different algorithm
that does not need to know the native endianness.  The end result is
that you don’t have to worry about endianness anymore.</p></div>
</div>
<div class="sect2">
<h3 id="_internal">Internal</h3>
<div class="ulist"><ul>
<li>
<p>
In <code>TXTinit()</code>, removed useless <code>% 0xFF</code> in index of <code>TXTval</code>.
</p>
</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2020-12-30 02:51:28 UTC
</div>
</div>
</body>
</html>
